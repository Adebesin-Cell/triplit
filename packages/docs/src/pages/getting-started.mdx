---
description: Learn how to get up and running with a simple Triplit app.
---

import { Callout, Tabs, Tab } from 'nextra-theme-docs';

# Getting Started

<iframe
  style={{ marginTop: '2rem', marginBottom: '2rem' }}
  src={'https://www.youtube.com/embed/Aw1JB-5bHbY?mute=1'}
  id="ytplayer"
  width={512}
  height={310}
  allowFullScreen
/>

## Installation

### Client

#### New projects

If you would like to scaffold a complete full stack application with Triplit, you can use the create command:

<Tabs items={['npm', 'pnpm', 'yarn', 'bun']}>
  <Tab>
    ```bash copy
    npm create triplit-app@latest my-app
    ```

  </Tab>
  <Tab>
    ```bash copy
    pnpm create triplit-app my-app
    ```

  </Tab>
  <Tab>
    ```bash copy
    yarn create triplit-app my-app
    ```

  </Tab>
  <Tab>
    ```bash copy
    bun create triplit-app my-app
    ```
    
    </Tab>
</Tabs>

You'll be presented with the option to choose either the React or Svelte template. The template is a todos app that includes a Triplit client instance, a simple schema, a default `.env` for connecting to the local development server, and examples of querying and mutating data with the relevant framework's bindings.

To see your app in action, navigate to the project directory and start the development server:

```bash
cd my-app
npm run dev
```

and the sync server in another terminal:

```bash
npx triplit dev
```

You've now got a fully functional Triplit app. If you want to learn more about how it works, read on.

#### Existing projects

If you have an existing project, Triplit also provides a CLI for creating and managing Triplit projects. Install the CLI in your project:

<Tabs items={['npm', 'pnpm', 'yarn', 'bun']}>
  <Tab>
    ```bash copy
    npm install --save-dev @triplit/cli
    ```

  </Tab>
  <Tab>
    ```bash copy
    pnpm add --save-dev @triplit/cli
    ```

  </Tab>
  <Tab>
    ```bash copy
    yarn add --dev @triplit/cli 
    ```

  </Tab>
  <Tab>
    ```bash copy
    bun add --dev @triplit/cli 
    ```
    
    </Tab>
</Tabs>

All commands in the CLI can be inspected by adding the `--help` flag. For example, to see the available commands:

```bash
triplit --help
```

Once you have the CLI installed you can initialize a new Triplit project, which will create the necessary files and folders and install the required dependencies:

```bash
triplit init

# or if you're using a framework
triplit init --framework react
```

Alternatively, you may manually install the packages you need.

### Server

#### Local development

Triplit has a robust local development environment that you can set up with a single command.

```bash
triplit dev
```

The default URL for the local development server is `http://localhost:6543`. It will also generate a Service Token and an Anonymous Token that your client app can use to authorize with the server.

We recommend setting up a `.env` file in your project to store these. If you used `npm create triplit-app`, this file should have been created for you.

```bash filename=".env" copy
TRIPLIT_DB_URL=http://localhost:6543
TRIPLIT_SERVICE_TOKEN=generated-by-triplit-dev
TRIPLIT_ANONYMOUS_TOKEN=generated-by-triplit-dev

# If you're using a framework like Vite or Next.js, you should add additional
# environmental variables prepended with VITE_ or NEXT_PUBLIC_ respectively.
VITE_TRIPLIT_DB_URL=$TRIPLIT_DB_URL
VITE_TRIPLIT_TOKEN=$TRIPLIT_ANONYMOUS_TOKEN
```

Then, you can use these environment variables to initialize your client:

```typescript filename="./triplit/client.ts" copy {4-5}
import { TriplitClient } from '@triplit/client';

const client = new TriplitClient({
  serverUrl: process.env.VITE_TRIPLIT_DB_URL,
  token: process.env.VITE_TRIPLIT_TOKEN,
});
```

## Triplit in your app

### Schemas and Typescript

Triplit uses a schema to define the structure of your data. This schema is used to validate your data and to generate Typescript types for client methods. Though you can technically define your schema anywhere, we recommend you save it at the `./triplit/schema.ts` path in your project folder. If you used one of the [initialization commands](/getting-started#installation) this file should have been created for you.

You can define a schema for your data like this:

```typescript filename="./triplit/schema.ts" copy
import { Schema as S, ClientSchema } from '@triplit/client';

export const schema = {
  todos: {
    schema: S.Schema({
      id: S.Id(),
      text: S.String(),
      completed: S.Boolean({ default: false }),
      created_at: S.Date({ default: S.Default.now() }),
    }),
  },
} satisfies ClientSchema;
```

And pass it as a parameter to the client constructor:

```typescript copy {2,5}
import { TriplitClient } from '@triplit/client';
import { schema } from './schema.js';

const client = new TriplitClient({
  schema,
  serverUrl: process.env.VITE_TRIPLIT_DB_URL,
  token: process.env.VITE_TRIPLIT_TOKEN,
});
```

You can extract types from the schema to use in your app:

```tsx copy
import { Entity } from '@triplit/client';

export type Todo = Entity<typeof schema, 'todos'>;
// {
//   id: string;
//   text: string;
//   completed: boolean;
//   created_at: Date;
// }
```

Read about all the data types and options available in a schema [here](/schemas).

### Queries and Mutations TODO TODO TODO

Triplit organizes your data into collections, which are like tables in a relational database. You can insert, update, and delete entities in a collection. As well, you can execute arbitrary queries on the database and subscribe to changes to query results over time.

For example, you might have a todos list.

```typescript copy
// Define a query
const completedTodosQuery = client
  .query('todos')
  .where('completed', '=', true)
  .build();

// Insert data
await client.insert('todos', { text: 'Buy milk' });
await client.insert('todos', { text: 'Buy eggs' });
await client.insert('todos', { text: 'Buy bread' });

// Execute the query
const completedTodos = await client.fetch(completedTodosQuery);
console.log(completedTodos);
```

You can also subscribe to data changes over time.

```typescript copy
// Subscribe to query result updates
const unsubscribe = client.subscribe(completedTodosQuery, (data) => {
  // do something with data
  console.log(data);
});
```

## Deploying

You can [self-host](/self-hosting) your Triplit server, or purchase a managed [Triplit Cloud machine](https://triplit.dev/pricing). In either case you can connect your deployment to the [Triplit Dashboard](https://triplit.dev/dashboard), which provides a web interface for managing your database.

In Triplit Dashboard, you can create a projects. That project will have a unique database host URL, a Service Token and an Anonymous Token.

Any Triplit server will initially load without a schema. If your client is using a schema **you must keep the server schema in sync with it** or you will run into bugs and undefined behaviors. First, ensure that `TRIPLIT_DB_URL` and `TRIPLIT_SERVICE_TOKEN` are set in your `.env` file to point to the deployed server. Then use the Triplit CLI to "push" your schema to the server:

```bash copy
triplit schema push
```

<Callout emoji="⚠️">
  Changing the schema of your database can lead to data corruption. Triplit will
  attempt to detect and prevent these backwards-incompatible schema changes.
</Callout>

For more information on safely updating your schema in a production database, see the [schema management guide](/schemas/updating).

## Next steps

This is Triplit in its most basic form - a syncing database for your app with reactive queries and great Typescript support. The rest of these docs will provide more detail on Triplit's database API and guides for building specific applications with it.

## Additional resources

- [Simple example app: Todos with Triplit, React and Vite](/react-tutorial)
- [Advanced example app: Chat with Triplit, NextAuth and Next.js](https://github.com/aspen-cloud/triplit/tree/main/templates/chat-template#readme)
- [Adding access control](/schemas/rules)
- [HTTP API, if you prefer HTTP to Websockets](/client/http-client)
